<h1>Categories management</h1>

<%= form_tag categories_path, :method => :get do %>
  <p class="span2">
	
    <label style="float:left;">Name </label>

    	<%= text_field_tag :search, params[:search], class: "tf-search" %>
    <%= submit_tag "Search", :name => nil , class: "btn  btn-primary" %>
  </p>
<% end %>

<br></br><br></br>

	<div class="row">
		<%
		  if(@new_category.nil?)
		    @new_category= Category.new
		  end
		%>
		<%= form_for(@new_category) do |f| %>
			<div class="span7">
				<h2>New category</h2>
					<%= render 'shared/error_messages', object: f.object %>
					<%= render 'categories',st: @new_category , f: f%>
					<div class="span4">
						</br>
							<%= f.submit%>
						</div>
		  </div>
		<%end%>
	</div>

	<div class="span8">
		<table class="table table-hover">
			<br/>
		  <tr>
				<th>Name</th>
				<th>Description </th>
				<th>Show Details</th>
				<th> Edit </th>
				<!-- If use admin function
				<% if current_user.admin?%>
				 <th>Delete </th>
				  <%end%>
				  -->
			</tr>
		  <% @categories.each do |category|%>
				<%if !@categories.nil? %>
					<tr>
						<td><%= category.name %> </td>
						<td><%= category.description %></td>
						<td><a href="/categories/<%=category.id%>">Show</a></td>
						<td><%= link_to 'Edit', edit_category_path(category) %></td>
						<!-- If use admin function
					 <% if current_user.admin?%>
						<td><%= link_to 'Destroy', category, method: :delete, data: { confirm: 'Are you sure?' } %> </td>
						   <%end%>
						   -->
					</tr>
		    <% end %>
		  <% end %>
		</table>
		<a href="/folders/?user_id=<%=current_user.id%>">Create folder</a>
	</div>
</div>

<style type="text/css">
input.tf-search{
	width: 200px;
	float: left;
	margin-left: 10px;
	margin-right: 10px;
}
p.span2{
	width: 400px;
	margin-left: 700px;
}
</style>