 <script>
  $(document).ready(function(){
      $("#treeViewDiv").jstree({
		    "json_data" : {
		        "data":[
		            {
		            	"data": "My Files", "children": [
								  {"data" : "Search engines",
								  "children" :[
								     {"data":"Yahoo", "metadata":{"href":"http://www.yahoo.com"}},
								     {"data":"Bing", "metadata":{"href":"http://www.bing.com"}},
								     {"data":"Google", "children":[
			 		           	{"data":"Youtube", "metadata":{"href":"http://youtube.com"}},
                      {"data":"Gmail", "metadata":{"href":"http://www.gmail.com"}},								   	                     {"data":"Orkut", "children":[
                      	{"data": "Orkut-sub", "metadata":{"href":"http://24h.com.vn"}}
                      ]}
                      ]}
                      ]},
                      {
                        "data" : "Networking sites",
                        "children" :[
                            {"data":"Facebook", "metadata":{"href":"http://www.fb.com"}},
                            {"data":"Twitter", "metadata":{"href":"http://twitter.com"}}
                        ]
                      }
                      ],
                      "state" : "open"
                            },

                        ]
                    },
		    "themes" :
		    {
			"theme":"default",
		    },
		    /*"types" :
		    {
			"default":
			{
				"icon":
				{
					"image":"http://static.jstree.com/v.1.0rc/_docs/_drive.png"
				}
			}
		    },*/

			"types" : {
    "valid_children" : [ "folder" ],
    "types" : {
        "folder" : {
            "valid_children" : [ "file" ],
            "max_depth" : 1
        },

        "file" : {
            "valid_children" : [ "none" ],
        }
    }
},

                    "plugins" : [ "themes", "json_data", "ui", "types",]
                }).bind("select_node.jstree", function(e, data)
                    {
                        if(jQuery.data(data.rslt.obj[0], "href"))
                        {
                            window.location=jQuery.data(data.rslt.obj[0], "href");
                        }
                        else
                        {
                            alert("No href defined for this element");
                        }
                    })
            });
        </script>
<%= form_tag folders_path, :method => 'get', :id => "search_folder" do %>
  <p class="span2">
    <label style="float:left;">Folder Name </label>
				<%= hidden_field_tag :user_id, current_user.id %>
        <%= text_field_tag :search, params[:search], class: "tf-search" %>
    <%= submit_tag "Search", :name => nil , class: "btn  btn-primary" %>
  </p>
<% end %>
</div>

<div id="treeViewDiv" class="treeView">
</div>


<style type="text/css">
	.treeView{
		margin-left: 100px;
		font-size: 16px;
	}

	input.tf-search{
    width: 200px;
    float: left;
    margin-left: 10px;
    margin-right: 10px;
	}

	p.span2{
    width: 400px;
	}
</style>
