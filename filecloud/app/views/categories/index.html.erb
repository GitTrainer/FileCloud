<h1>Categories management</h1>

<%= form_tag categories_path, :method => :get do %>
  <p class="span2">

    <label style="float:left;">Category Name </label>

    	<%= text_field_tag :search, params[:search], class: "tf-search" %>
    <%= submit_tag "Search", :name => nil , class: "btn  btn-primary" %>
  </p>
<% end %>

<br></br><br></br>

	<div class="row">
		<%
		  if(@new_category.nil?)
		    @new_category= Category.new
		  end
		%>
		<%= form_for(@new_category) do |f| %>
			<div class="span7">
				<h2>New category</h2>
					<%= render 'shared/error_messages', object: f.object %>
					<%= render 'categories',st: @new_category , f: f%>
					<div class="span4">
						</br>
							<%= f.submit  class: "btn  btn-primary"%>
						</div>
		  </div>
		<%end%>
	</div>

	<div class="span8">
		<table class="table table-hover">
			<br/>
		  <tr>
				<th>Name</th>
				<th>Description </th>
				<th>Show Details</th>
				<th> Edit </th>
			</tr>
		  <%if !@search.nil? %>
		  	<% @search.each do |category|%>
					<tr>
						<td><%= category.name %> </td>
						<td><%= category.description %></td>
						<td><a href="/categories/<%=category.id%>">Show</a></td>
						<td><%= link_to 'Edit', edit_category_path(category) %></td>
					</tr>
		    <% end %>
		  <% end %>
		</table>
		<a href="/folders">Create folder</a>
	</div>
</div>

<style type="text/css">
input.tf-search{
	width: 200px;
	float: left;
	margin-left: 10px;
	margin-right: 10px;
}
p.span2{
	width: 400px;

}
</style>
